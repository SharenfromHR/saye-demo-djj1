"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{4120:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=s(3827),l=s(4090),n=s(7815),i=s(5754);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,l.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:x,...m}=e;return(0,l.createElement)("svg",{ref:t,...d,width:a,height:a,stroke:s,strokeWidth:i?24*Number(n)/Number(a):n,className:c("lucide",r),...m},[...x.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),x=(e,t)=>{let s=(0,l.forwardRef)((s,a)=>{let{className:n,...i}=s;return(0,l.createElement)(o,{ref:a,iconNode:t,className:c("lucide-".concat(r(e)),n),...i})});return s.displayName="".concat(e),s},m=x("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),p=x("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return new Intl.NumberFormat(void 0,{style:"currency",currency:t,maximumFractionDigits:2}).format(e)};function u(){let[e,t]=(0,l.useState)("participant"),[s,r]=(0,l.useState)(!0),[c,d]=(0,l.useState)({}),[o,x]=(0,l.useState)([{grantName:"2024 SAYE Plan",inviteOpen:"2024-02-01T09:00",inviteClose:"2024-02-29T17:00",grantDate:"2024-03-01",contractStart:"2024-03-01",optionPrice:1,bonusRate:0,minMonthly:10,maxMonthly:500,termYears:3,ticker:"DJJ",exchange:"LSE",termMonths:36,monthlyContribution:150,missedPayments:0,status:"live",paused:!1},{grantName:"2025 SAYE Plan",inviteOpen:"2025-02-01T09:00",inviteClose:"2025-02-28T17:00",grantDate:"2025-03-01",contractStart:"2025-03-01",optionPrice:1.8,bonusRate:0,minMonthly:10,maxMonthly:500,termYears:3,ticker:"DJJ",exchange:"LSE",termMonths:36,monthlyContribution:100,missedPayments:1,status:"live",paused:!1}]),[u,f]=(0,l.useState)({type:null,planIdx:null}),[y,N]=(0,l.useState)(!1),[b,v]=(0,l.useState)(null),w=(0,l.useMemo)(()=>{let e=new Date;return o.map((e,t)=>({...e,configIndex:t})).filter(e=>"live"===e.status).map(t=>{let s=new Date(t.contractStart),a=Math.max(0,(e.getFullYear()-s.getFullYear())*12+(e.getMonth()-s.getMonth())),l=Math.max(0,t.monthlyContribution*(a-t.missedPayments)),n=t.monthlyContribution*t.termMonths/t.optionPrice,i=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=new Date(e);return new Date(a.getFullYear(),a.getMonth()+t+s,1)}(t.contractStart,t.termMonths,t.missedPayments),r=Math.max(0,(1.4-t.optionPrice)*n);return{...t,monthsSinceStart:a,savingsAmount:l,optionsGranted:n,maturityDate:i,estimatedGain:r}}).sort((e,t)=>new Date(e.contractStart).getTime()-new Date(t.contractStart).getTime())},[o]),C=e=>{let t=new Date(e.contractStart),s=new Date,a=new Date(s.getFullYear(),s.getMonth()-1,1),l=[],n=[],i=[];for(let e=new Date(t.getFullYear(),t.getMonth(),1);e<=a;e=new Date(e.getFullYear(),e.getMonth()+1,1))i.push(new Date(e));let r=new Set;for(let t=0;t<(e.missedPayments||0);t++){let e=i[i.length-1-t];e&&r.add("".concat(e.getFullYear(),":").concat(e.getMonth()))}for(let t of i){let s=t.toLocaleString(void 0,{month:"long",year:"numeric"}),a=new Date(t.getFullYear(),t.getMonth(),10).toLocaleDateString(),n="".concat(t.getFullYear(),":").concat(t.getMonth()),i=r.has(n);l.push({label:s,date:a,amount:e.monthlyContribution,status:i?"missed":"paid"})}let c=new Date(e.maturityDate.getFullYear(),e.maturityDate.getMonth(),1);for(let t=new Date(s.getFullYear(),s.getMonth(),10);t<c;t=new Date(t.getFullYear(),t.getMonth()+1,10))n.push({label:t.toLocaleString(void 0,{month:"long",year:"numeric"}),date:t.toLocaleDateString(),amount:e.monthlyContribution});return n.length&&(n[n.length-1].isLast=!0),{history:l,upcoming:n}},S=w.reduce((e,t)=>e+t.monthlyContribution,0),k=S>500?"bg-rose-50 text-rose-700 ring-rose-200":S>=400?"bg-amber-50 text-amber-700 ring-amber-200":"bg-emerald-50 text-emerald-700 ring-emerald-200",M=new Date,D=o.filter(e=>{if("invite"!==e.status)return!1;let t=new Date(e.inviteOpen),s=new Date(e.inviteClose);return t<=M&&M<=s}),Y=D[0]||null,A=D.length>0?Math.min(...D.map(e=>e.minMonthly||0)):null,E=D.length>0?Math.max(...D.map(e=>e.maxMonthly||0)):null,P=!!(null==b?void 0:b.hasApplied)&&!!Y,L=e=>f({type:"pause",planIdx:e}),I=e=>f({type:"unpause",planIdx:e}),F=e=>f({type:"cancel",planIdx:e}),T=()=>f({type:null,planIdx:null}),O=()=>{let e=u.planIdx;if(null==e)return T();let t=w[e];if(!t)return T();"pause"===u.type?x(e=>e.map((e,s)=>s===t.configIndex?{...e,paused:!0}:e)):"unpause"===u.type?x(e=>e.map((e,s)=>s===t.configIndex?{...e,paused:!1}:e)):"cancel"===u.type&&alert("Cancel & refund requested for ".concat(t.grantName,". You will lose the right to exercise options.")),T()},z=!!Y&&!!b&&!!b.accepted&&!!b.read&&!(b.amount<Y.minMonthly)&&!(b.amount>Y.maxMonthly);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100",children:[(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 pt-6 pb-10",children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsxs)("aside",{className:"w-60 shrink-0",children:[(0,a.jsxs)("nav",{className:"sticky top-6 space-y-1 text-sm",children:[["Dashboard","My portfolio","My orders","Documents","Simulations"].map(e=>(0,a.jsx)("div",{className:"px-3 py-2 rounded-xl text-slate-600 hover:bg-white/60 cursor-default",children:e},e)),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>r(e=>!e),className:"w-full flex items-center justify-between px-3 py-2 rounded-xl text-sm transition ".concat("participant"===e||"config"===e?"bg-white shadow-sm ring-1 ring-slate-200 text-slate-900":"text-slate-600 hover:bg-white/60"),children:[(0,a.jsx)("span",{children:"SAYE"}),(0,a.jsx)(m,{className:"h-4 w-4 transition-transform ".concat(s?"rotate-180 text-emerald-600":"text-slate-400")})]}),s&&(0,a.jsxs)("div",{className:"ml-6 space-y-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>t("participant"),className:"w-full text-left px-3 py-1.5 rounded-lg text-xs ".concat("participant"===e?"bg-slate-900 text-white":"text-slate-600 hover:bg-white/70"),children:"Participant view"}),(0,a.jsx)("button",{type:"button",onClick:()=>t("config"),className:"w-full text-left px-3 py-1.5 rounded-lg text-xs ".concat("config"===e?"bg-slate-900 text-white":"text-slate-600 hover:bg-white/70"),children:"Configuration"})]})]}),(0,a.jsx)("div",{className:"px-3 py-2 rounded-xl text-slate-600 hover:bg:white/60 cursor-default",children:"Support"})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 rounded-2xl shadow-sm ring-1 ring-slate-200 bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-md bg-slate-900 text-white flex items-center justify-center text-xs font-semibold",children:"DJJ"}),(0,a.jsx)("div",{className:"text-sm font-medium text-slate-808",children:"DJJ Ltd"})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"text-2xl font-semibold text-slate-900",children:["\xa3","1.40"]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["DJJ"," • Latest date ",new Date().toLocaleDateString()]})]})]})]}),(0,a.jsxs)("main",{className:"flex-1",children:["participant"===e&&(0,a.jsxs)("div",{className:"space-y-5",children:[D.length>0&&Y&&(0,a.jsx)(n.Z,{className:"rounded-2xl border-none shadow-sm mb-1 bg-emerald-50/70 ring-1 ring-emerald-100",children:(0,a.jsxs)(n.a,{className:"p-4 flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"text-xs text-emerald-900",children:[(0,a.jsxs)("div",{className:"font-semibold flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-emerald-600 text-white text-[11px] font-bold",children:"NEW"}),(0,a.jsx)("span",{children:"New SAYE invitation available"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:Y.grantName}),(0,a.jsxs)("span",{className:"text-[11px] text-emerald-800",children:["Apply by ",new Date(Y.inviteClose).toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,a.jsx)(i.z,{className:"h-8 px-3 text-xs",onClick:()=>{Y&&N(e=>{let t=!e;return t&&!b&&v({amount:(Y.minMonthly+Y.maxMonthly)/2,accepted:!1,read:!1,hasApplied:!1}),t})},children:P?"Amend application":"Apply for SAYE"}),null!=A&&null!=E&&(0,a.jsxs)("span",{className:"text-[10px] text-emerald-800",children:["You can choose between \xa3",A," and \xa3",E," per month during enrolment."]})]})]})}),y&&Y&&b&&(0,a.jsx)(n.Z,{className:"rounded-2xl border-none shadow-sm",children:(0,a.jsxs)(n.a,{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide mb-1",children:["Enrolment • ",Y.grantName]}),(0,a.jsx)("h2",{className:"text-base font-semibold text-slate-900",children:"Step 1 \xb7 Introduction"})]}),P&&(0,a.jsxs)("span",{className:"text-[11px] px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:["You have applied for \xa3",b.amount.toFixed(2)," per month"]})]}),(0,a.jsx)("div",{className:"rounded-xl overflow-hidden border border-slate-100 h-56 bg-slate-100",children:(0,a.jsx)("img",{src:"https://images.pexels.com/photos/912050/pexels-photo-912050.jpeg?auto=compress&cs=tinysrgb&w=1200",alt:"Airplane flying above the clouds",className:"w-full h-full object-cover"})}),(0,a.jsx)("p",{className:"text-sm text-slate-700",children:"You've been invited to join your company's Save As You Earn (SAYE) plan. Save a fixed amount from your net pay each month and, at maturity, you can use your savings to buy shares at the fixed option price – or simply take your cash back."}),(0,a.jsxs)("div",{className:"border-t border-slate-100 pt-4 space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-900",children:"Step 2 \xb7 Choose monthly amount"}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["Choose any whole pound amount between \xa3",Y.minMonthly," and \xa3",Y.maxMonthly,"."]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Monthly savings (\xa3)"}),(0,a.jsx)("input",{type:"number",min:Y.minMonthly,max:Y.maxMonthly,step:1,className:"w-40 rounded-lg border border-slate-200 px-3 py-2 text-sm",value:b.amount,onChange:e=>{let t=Number(e.target.value)||0;v(e=>e?{...e,amount:t}:e)}})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:[(0,a.jsxs)("div",{children:["Option price: ",(0,a.jsx)("span",{className:"font-medium",children:h(Y.optionPrice)})]}),(0,a.jsxs)("div",{children:["Indicative options if you complete the plan:\xa0",(0,a.jsx)("span",{className:"font-medium",children:Math.round(b.amount*Y.termMonths/Y.optionPrice).toLocaleString()})]})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-slate-100 pt-4 space-y-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-900",children:"Step 3 \xb7 Confirm & apply"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Tick both boxes to confirm you've read the documents and understand how deductions will work."}),(0,a.jsxs)("div",{className:"space-y-2 text-xs text-slate-700",children:[(0,a.jsxs)("label",{className:"flex items-start gap-2",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-0.5",checked:b.read,onChange:e=>v(t=>t?{...t,read:e.target.checked}:t)}),(0,a.jsxs)("span",{children:["I confirm I've read the"," ",(0,a.jsx)("a",{href:"#",className:"text-indigo-600 hover:underline",children:"SAYE plan rules"})," ","and the"," ",(0,a.jsx)("a",{href:"#",className:"text-indigo-600 hover:underline",children:"Key Information Document"}),"."]})]}),(0,a.jsxs)("label",{className:"flex items-start gap-2",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-0.5",checked:b.accepted,onChange:e=>v(t=>t?{...t,accepted:e.target.checked}:t)}),(0,a.jsx)("span",{children:"I understand my chosen amount will be deducted from my net pay each month for the full term of the plan unless I change or cancel my participation in line with the plan rules."})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsx)("div",{className:"text-[11px] text-slate-500",children:"You can amend your application any time while the invite window is open."}),(0,a.jsx)(i.z,{className:"h-8 px-4 text-xs",disabled:!z,onClick:()=>{Y&&b&&v(e=>e?{...e,hasApplied:!0}:e)},children:P?"Update application":"Confirm enrolment"})]})]})]})}),(0,a.jsx)(n.Z,{className:"rounded-2xl border-none shadow-sm",children:(0,a.jsxs)(n.a,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold tracking-tight",children:"Save As You Earn (SAYE)"}),(0,a.jsxs)("div",{className:"flex gap-4 text-xs text-slate-500",children:[(0,a.jsx)("a",{href:"#",className:"hover:underline",children:"Plan Rules"}),(0,a.jsx)("a",{href:"#",className:"hover:underline",children:"FAQ"})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-slate-500",children:[(0,a.jsx)(p,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Missed payments extend the maturity by one month each. 13 missed = plan lapses."})]}),(0,a.jsx)("div",{className:"font-medium",children:(0,a.jsxs)("span",{className:"inline-flex items-center rounded-full ring-1 px-2.5 py-1 ".concat(k),children:["Total monthly: \xa3",S," / \xa3500"]})})]})]})}),(0,a.jsx)(n.Z,{className:"rounded-2xl border-none shadow-sm",children:(0,a.jsx)(n.a,{className:"p-0 overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-white",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Plan"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Start date"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Maturity"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Opt px"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Optns"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Missed"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Estimated gain"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Saved"}),(0,a.jsx)("th",{className:"text-left text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"\xa3/mo"}),(0,a.jsx)("th",{className:"text-right text-xs font-semibold uppercase tracking-wider text-slate-500 py-2 px-3",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-100 bg-slate-50/50",children:w.map((e,t)=>{let s=!!c[t],{history:n,upcoming:r}=C(e);return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsxs)("tr",{className:"hover:bg-white/70 ".concat(s?"bg-white/60":""),children:[(0,a.jsx)("td",{className:"py-2 px-3 text-sm font-medium text-slate-800",children:(0,a.jsxs)("button",{className:"flex items-center gap-1 underline-offset-2 hover:underline cursor-pointer text-left",onClick:()=>d(e=>({...e,[t]:!e[t]})),"aria-expanded":s,title:"View schedule",children:[(0,a.jsx)(m,{className:"h-4 w-4 transition-transform ".concat(s?"rotate-180 text-emerald-600":"text-slate-400")}),e.grantName]})}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm text-slate-700",children:new Date(e.contractStart).toLocaleDateString()}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm text-slate-700",children:e.maturityDate.toLocaleDateString()}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm text-slate-700",children:h(e.optionPrice)}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm text-slate-700",children:Math.round(e.optionsGranted).toLocaleString()}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm text-slate-700",children:e.missedPayments}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm font-medium ".concat(e.estimatedGain>0?"text-emerald-700":"text-slate-400"),children:h(e.estimatedGain)}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm text-slate-700",children:h(e.savingsAmount)}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm text-slate-700",children:h(e.monthlyContribution)}),(0,a.jsx)("td",{className:"py-2 px-3 text-sm whitespace-nowrap text-right",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2",children:[e.paused?(0,a.jsx)(i.z,{variant:"outline",className:"h-8 px-2 text-xs",onClick:()=>I(t),children:"Unpause"}):(0,a.jsx)(i.z,{variant:"outline",className:"h-8 px-2 text-xs",onClick:()=>L(t),children:"Pause"}),(0,a.jsx)(i.z,{variant:"secondary",className:"h-8 px-2 text-xs",onClick:()=>F(t),children:"Cancel"})]})})]}),s&&(0,a.jsx)("tr",{className:"bg-white",children:(0,a.jsx)("td",{colSpan:10,className:"px-3 py-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"History of contributions"}),(0,a.jsxs)("div",{className:"max-h-64 overflow-auto rounded-md ring-1 ring-slate-100",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-slate-50/80 backdrop-blur px-2 py-1 text-[11px] text-slate-500 font-medium [display:grid] [grid-template-columns:1fr_auto_auto] items-center",children:[(0,a.jsx)("span",{children:"Month"}),(0,a.jsx)("span",{children:"Date"}),(0,a.jsx)("span",{className:"text-right",children:"Amount"})]}),0===n.length&&(0,a.jsx)("div",{className:"px-2 py-2 text-sm text-slate-500",children:"No contributions yet."}),n.map((e,t)=>(0,a.jsxs)("div",{className:"px-2 py-1.5 [display:grid] [grid-template-columns:1fr_auto_auto] items-center gap-2 ".concat("missed"===e.status?"bg-amber-50":"hover:bg-slate-50"),children:[(0,a.jsx)("span",{className:"text-sm text-slate-700",children:e.label}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:e.date}),(0,a.jsx)("span",{className:"text-sm font-medium tabular-nums text-right ".concat("missed"===e.status?"text-amber-700":"text-slate-900"),children:"missed"===e.status?"Missed":h(e.amount)})]},t))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Upcoming payments"}),(0,a.jsxs)("div",{className:"max-h-64 overflow-auto rounded-md ring-1 ring-slate-100",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-slate-50/80 backdrop-blur px-2 py-1 text-[11px] text-slate-500 font-medium [display:grid] [grid-template-columns:1fr_auto_auto] items-center",children:[(0,a.jsx)("span",{children:"Month"}),(0,a.jsx)("span",{children:"Date"}),(0,a.jsx)("span",{className:"text-right",children:"Amount"})]}),r.map((e,t)=>(0,a.jsxs)("div",{className:"px-2 py-1.5 hover:bg-slate-50 [display:grid] [grid-template-columns:1fr_auto_auto] items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-slate-700",children:e.label}),(0,a.jsxs)("span",{className:"text-xs text-slate-500 flex items-center justify-start gap-2",children:[e.isLast&&(0,a.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-slate-100 text-slate-700 ring-1 ring-slate-200 whitespace-nowrap",children:"Last payment"}),e.date]}),(0,a.jsx)("span",{className:"text-sm font-medium tabular-nums text-right inline-flex items-center justify-end gap-2",children:h(e.amount)})]},t))]})]})]})})})]},t)})})]})})})]}),"config"===e&&(0,a.jsx)(j,{planConfigs:o,setPlanConfigs:x})]})]})}),(0,a.jsx)(g,{open:"pause"===u.type,title:"Pause your SAYE contributions",tone:"neutral",onClose:T,onConfirm:O,confirmLabel:"Confirm pause",children:(0,a.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,a.jsx)("li",{children:"Your monthly contributions will stop from the next eligible payroll cut-off."}),(0,a.jsxs)("li",{children:["You will need to ",(0,a.jsx)("strong",{children:"manually unpause"})," when you want contributions to resume."]}),(0,a.jsx)("li",{children:"Paused months are counted as missed payments and each missed payment moves your maturity back by one month."})]})}),(0,a.jsx)(g,{open:"unpause"===u.type,title:"Unpause your SAYE contributions",tone:"neutral",onClose:T,onConfirm:O,confirmLabel:"Confirm unpause",children:(0,a.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,a.jsx)("li",{children:"Monthly contributions will resume from the next eligible payroll cut-off."}),(0,a.jsx)("li",{children:"Missed months during the pause remain missed and still delay your maturity date."})]})}),(0,a.jsx)(g,{open:"cancel"===u.type,title:"Cancel plan & refund savings",tone:"warning",onClose:T,onConfirm:O,confirmLabel:"I understand — cancel plan",children:(0,a.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,a.jsxs)("li",{children:["Once cancelled, you ",(0,a.jsx)("strong",{children:"lose the right to your SAYE options"}),". This cannot be undone."]}),(0,a.jsx)("li",{children:"Your saved contributions will be refunded in line with plan rules (usually the next payroll cycle)."}),(0,a.jsx)("li",{children:"Any future contributions will stop immediately."})]})})]})}function g(e){let{open:t,title:s,children:l,onClose:n,onConfirm:r,confirmLabel:c="Confirm",tone:d="neutral"}=e;return t?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:n}),(0,a.jsx)("div",{role:"dialog","aria-modal":"true",className:"relative w-full max-w-lg rounded-2xl shadow-lg ".concat("warning"===d?"ring-1 ring-rose-200 bg-rose-50 text-rose-900":"ring-1 ring-slate-200 bg-white text-slate-900"),children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:s}),(0,a.jsx)("div",{className:"text-sm leading-relaxed",children:l}),(0,a.jsxs)("div",{className:"mt-5 flex justify-end gap-2",children:[(0,a.jsx)(i.z,{variant:"outline",className:"h-9 px-3 text-sm",onClick:n,children:"Cancel"}),(0,a.jsx)(i.z,{className:"h-9 px-3 text-sm",onClick:r,children:c})]})]})})]}):null}function j(e){let{planConfigs:t,setPlanConfigs:s}=e,[r,c]=(0,l.useState)(!1),[d,o]=(0,l.useState)(null),[x,m]=(0,l.useState)(null),p=e=>{let s=t[e];s&&(o(e),m({...s}),c(!0))},u=()=>{c(!1),o(null),m(null)};function j(e,t){m(s=>s?{...s,[e]:t}:s)}let f=e=>{s(t=>t.map((t,s)=>{if(s!==e)return t;let a=(t.minMonthly+t.maxMonthly)/2;return{...t,status:"live",monthlyContribution:a}}))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"rounded-full bg-slate-100 p-1 flex max-w-xl mb-4",children:[(0,a.jsx)("button",{className:"flex-1 text-xs font-medium px-4 py-2 rounded-full bg-white shadow-sm",children:"Plan overview"}),(0,a.jsx)("button",{className:"flex-1 text-xs font-medium px-4 py-2 rounded-full text-slate-500",children:"Participants"})]}),(0,a.jsx)(n.Z,{className:"rounded-2xl border-none shadow-sm",children:(0,a.jsxs)(n.a,{className:"p-6 space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold tracking-tight",children:"SAYE plan configuration"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"View all SAYE offerings. Edit a plan or create a new one to push contracts to the participant view."})]})}),(0,a.jsxs)("section",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Existing SAYE plans & offerings"}),(0,a.jsx)(i.z,{className:"h-8 px-3 text-xs",onClick:()=>{let e=String(new Date().getFullYear()+1);o(null),m({grantName:"".concat(e," SAYE Plan"),inviteOpen:"".concat(e,"-02-01T09:00"),inviteClose:"".concat(e,"-02-28T17:00"),grantDate:"".concat(e,"-03-01"),contractStart:"".concat(e,"-03-01"),optionPrice:1,bonusRate:0,minMonthly:10,maxMonthly:500,termYears:3,ticker:"DJJ",exchange:"LSE",termMonths:36,monthlyContribution:0,missedPayments:0,status:"invite",paused:!1}),c(!0)},children:"New plan"})]}),(0,a.jsxs)("p",{className:"text-[11px] text-slate-500",children:["Plans marked ",(0,a.jsx)("span",{className:"font-semibold",children:"Live"})," appear in the participant view. Draft invitations stay hidden until you create contracts."]}),(0,a.jsx)("div",{className:"overflow-auto rounded-xl ring-1 ring-slate-100",children:(0,a.jsxs)("table",{className:"min-w-full text-xs",children:[(0,a.jsx)("thead",{className:"bg-slate-50/80",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Plan"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Status"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Invite window"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Grant date"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Contract start"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Opt price"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Min \xa3/mo"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Max \xa3/mo"}),(0,a.jsx)("th",{className:"text-left px-3 py-2 font-semibold text-slate-500",children:"Term"}),(0,a.jsx)("th",{className:"text-right px-3 py-2 font-semibold text-slate-500",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-100 bg-white",children:t.map((e,t)=>(0,a.jsxs)("tr",{className:"align-middle",children:[(0,a.jsx)("td",{className:"px-3 py-2 text-xs font-medium text-slate-800",children:e.grantName}),(0,a.jsx)("td",{className:"px-3 py-2",children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium ".concat("live"===e.status?"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200":"bg-slate-100 text-slate-600 ring-1 ring-slate-200"),children:"live"===e.status?"Live":"Invite"})}),(0,a.jsxs)("td",{className:"px-3 py-2 text-xs text-slate-700",children:[new Date(e.inviteOpen).toLocaleString()," —",(0,a.jsx)("br",{}),new Date(e.inviteClose).toLocaleString()]}),(0,a.jsx)("td",{className:"px-3 py-2 text-xs text-slate-700",children:new Date(e.grantDate).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-3 py-2 text-xs text-slate-700",children:new Date(e.contractStart).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-3 py-2 text-xs text-slate-700",children:h(e.optionPrice)}),(0,a.jsx)("td",{className:"px-3 py-2 text-xs text-slate-700",children:h(e.minMonthly)}),(0,a.jsx)("td",{className:"px-3 py-2 text-xs text-slate-700",children:h(e.maxMonthly)}),(0,a.jsxs)("td",{className:"px-3 py-2 text-xs text-slate-700",children:[e.termYears," years"]}),(0,a.jsx)("td",{className:"px-3 py-2 text-right",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,a.jsx)(i.z,{variant:"outline",className:"h-7 px-2 text-[11px]",onClick:()=>p(t),children:"Edit"}),"invite"===e.status?(0,a.jsx)(i.z,{className:"h-7 px-2 text-[11px]",onClick:()=>f(t),children:"Create contracts"}):(0,a.jsx)("span",{className:"text-[11px] text-slate-500",children:"Already live"})]})})]},t))})]})})]})]})}),(0,a.jsx)(g,{open:r&&!!x,title:null==d?"Create new SAYE plan":"Edit SAYE plan",tone:"neutral",onClose:u,onConfirm:()=>{x&&(null==d?s(e=>[...e,x]):s(e=>e.map((e,t)=>t===d?x:e)),u())},confirmLabel:null==d?"Save & add plan":"Save changes",children:x&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Plan name"}),(0,a.jsx)("input",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.grantName,onChange:e=>j("grantName",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Bonus / interest rate (%)"}),(0,a.jsx)("input",{type:"number",step:"0.1",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.bonusRate,onChange:e=>j("bonusRate",Number(e.target.value)||0)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Invite window opens"}),(0,a.jsx)("input",{type:"datetime-local",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.inviteOpen,onChange:e=>j("inviteOpen",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Invite window closes"}),(0,a.jsx)("input",{type:"datetime-local",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.inviteClose,onChange:e=>j("inviteClose",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Grant date"}),(0,a.jsx)("input",{type:"date",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.grantDate,onChange:e=>j("grantDate",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Contract start date"}),(0,a.jsx)("input",{type:"date",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.contractStart,onChange:e=>j("contractStart",e.target.value)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Option price (\xa3)"}),(0,a.jsx)("input",{type:"number",step:"0.01",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.optionPrice,onChange:e=>j("optionPrice",Number(e.target.value)||0)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Minimum monthly (\xa3)"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.minMonthly,onChange:e=>j("minMonthly",Number(e.target.value)||0)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Maximum monthly (\xa3)"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.maxMonthly,onChange:e=>j("maxMonthly",Number(e.target.value)||0)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1 md:col-span-2",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Term"}),(0,a.jsxs)("div",{className:"flex gap-3 text-xs",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"termYears",checked:3===x.termYears,onChange:()=>{j("termYears",3),j("termMonths",36)}}),(0,a.jsx)("span",{children:"3 years"})]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-1",children:[(0,a.jsx)("input",{type:"radio",name:"termYears",checked:5===x.termYears,onChange:()=>{j("termYears",5),j("termMonths",60)}}),(0,a.jsx)("span",{children:"5 years"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Status"}),(0,a.jsxs)("select",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.status,onChange:e=>j("status",e.target.value),children:[(0,a.jsx)("option",{value:"invite",children:"Invite"}),(0,a.jsx)("option",{value:"live",children:"Live"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Ticker"}),(0,a.jsx)("input",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.ticker,onChange:e=>j("ticker",e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Exchange"}),(0,a.jsx)("input",{className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",value:x.exchange,onChange:e=>j("exchange",e.target.value)})]}),(0,a.jsx)("div",{className:"flex items-center text-[11px] text-slate-500",children:(0,a.jsx)("span",{children:"These settings control the live price feed and indicative gain shown in the participant view."})})]})]})})]})}},5754:function(e,t,s){s.d(t,{z:function(){return l}});var a=s(3827);function l(e){let{children:t,...s}=e;return(0,a.jsx)("button",{...s,className:(s.className||"")+" border px-3 py-1 rounded-md",children:t})}},7815:function(e,t,s){s.d(t,{Z:function(){return l},a:function(){return n}});var a=s(3827);function l(e){let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:"border rounded-xl bg-white "+s,children:t})}function n(e){let{children:t,className:s=""}=e;return(0,a.jsx)("div",{className:s,children:t})}}}]);